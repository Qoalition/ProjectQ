(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{46289:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Y}});var r=n(87757),i=n.n(r),s=n(92137),a=n(85893),c=n(6610),o=n(5991),u=n(63349),l=n(65255),d=n(86089),f=n(77608),p=n(96156),h=n(67294),y=n(9008),v=n(25675),b={src:"/_next/static/image/public/starr.e182fd7442630843d8ce881b2dc241a0.png",height:294,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA2UlEQVR42mMAgZ+Xw5lB9K/zIYq/LoTxgti/T3kwMqCD36ftj/y8Gp6MIvjzSrTwx3ct4r/PesT8OWH8/+fV0Kv/d3Fr/dsnL/XrYggnUJdz9u+zLv9/XfT+//uM/V8g/v/npOn/X+c97/+4miDLAAL/DsrX/zlpDhR0+f77tM3fn1eC3n2/m2YMt+bzi1rJn5cD/v85ZQlU5Pr/30G57SDxP6d0WSDuuBYZ/ueU1d+/h7XKftyIWv37jNPL/9uFuRCuP+Op++eYlSrc4Vej7H6f8eBnYGBgAAAtV3EqqsqM7QAAAABJRU5ErkJggg=="},m=(n(5152),n(81492)),A=n(3754),g=function(t){return(0,a.jsx)("div",{id:"modal",children:(0,a.jsxs)(m.Z.Dialog,{children:[(0,a.jsx)(m.Z.Header,{children:(0,a.jsx)(m.Z.Title,{id:"example-modal-sizes-title-sm",children:"Your Dream, Immortalized In The Stars"})}),(0,a.jsx)(m.Z.Body,{children:(0,a.jsxs)("p",{children:[t.starData.wish," - Star Speak"]})}),(0,a.jsx)(m.Z.Footer,{children:(0,a.jsx)(A.Z,{onClick:function(){t.setShowData(!1)},variant:"secondary",children:"Close"})})]})})},j=function(t){var e=(0,h.useState)(""),n=e[0],r=e[1],i=(0,h.useState)(!1),s=i[0],c=i[1];for(var o=[],u=function(e){o.push((0,a.jsx)(v.default,{onClick:function(){return function(t){r(t),c(!0)}(t.dbData[e])},id:"star-child",width:50,height:50,src:b},e))},l=0;l<t.dbData.length;l++)u(l);return(0,a.jsxs)("div",{className:"star-container",children:[o,s?(0,a.jsx)(g,{setShowData:c,starData:n}):""]})};function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){(0,p.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O=function(t){return(0,a.jsx)("div",{children:(0,a.jsxs)(m.Z,w(w({},t),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,a.jsx)(m.Z.Header,{children:(0,a.jsx)(m.Z.Title,{id:"contained-modal-title-vcenter",children:"Welcome to SpaceHash"})}),(0,a.jsx)(m.Z.Body,{children:(0,a.jsxs)("p",{children:["Enter in your wishes, hopes, and dreams to be immortalized in the stars forever.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"We will hash them away into the bitverse, keeping them secret and protected."]})}),(0,a.jsx)(m.Z.Footer,{children:(0,a.jsx)(A.Z,{onClick:t.onHide,children:"Close"})})]}))})},D=n(43489),Z=n(3397),E=n(79005),k=n(93150),S=n(3283),C=n.n(S),P=n(41825),T=n(11163),z={src:"/_next/static/image/public/rocket.e0a2b67cf15e9468ae2520b8cb6558a3.png",height:360,width:360,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA5ElEQVR42mP4//8/w9OpBUwg+pmTwZwrIgyzQOz/07PAYgxfb+4EM/7/fyjzZMeM/7fXdv37/Gi+BEjs1o4ORoY//28xgzj/nh0ouHxy3f/Tu+b+f3O8NxMk9vHuEmYGEOMgA4P47Z7SX68e7Pz/5NKy/yfyvH70MzCIgq0AEfcYGDguB7ncfL6o6e/lCdn/dspwXz/IwMAGVnDFWZARxLjIwCD2fHrr3stN+XvygWyQ2A4GBkYGEOPFrV9gh/5+v/vsz7vrT4HYD148ZoZb8fd6Epjz67xv+o89vqkg9p/j8WAxAHp2oiLs2idNAAAAAElFTkSuQmCC"},N=n(43280);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,p.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var W=function(t){var e=(0,h.useState)(""),n=e[0],r=e[1],c=(0,h.useState)(null),o=c[0],u=c[1],l=(0,h.useState)(null),d=l[0],f=l[1],p=(0,h.useState)(null),y=p[0],b=p[1];(0,h.useEffect)((0,s.Z)(i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new(C())(new(C().providers.WebsocketProvider)("ws://localhost:7545")),u(e),n=new e.eth.Contract(P.CONTRACT_ABI,P.CONTRACT_ADDRESS),b(n),t.next=6,e.eth.getAccounts();case 6:r=t.sent,f(r[0]);case 8:case"end":return t.stop()}}),t)}))),[]);var m=function(){var t=(0,s.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.methods.drainWishes().send({from:d});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Error when calling contract to drainWishes",t.t0);case 8:setTimeout((function(){T.default.push({pathname:"/"})}),1e3);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=(0,s.Z)(i().mark((function t(e){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),s=o.utils.asciiToHex(n).padEnd(66,"0"),t.prev=2,t.next=5,y.methods.hashWish(s).send({from:d});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("Error when calling contract to hashWish",t.t0);case 10:r(""),setTimeout((function(){T.default.push({pathname:"/"})}),1e3);case 12:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{id:"input-form",children:(0,a.jsxs)(Z.Z,{className:"mb-3",id:"form",onSubmit:g,children:[(0,a.jsx)(A.Z,{onClick:g,variant:"outline-secondary",id:"button-addon1",children:"Button"}),(0,a.jsx)(E.Z,{"aria-label":"form-button","aria-describedby":"basic-addon1",value:n,onChange:function(t){return r(t.target.value)}})]})}),(0,a.jsx)(k.Z,{style:{zIndex:"7",fontSize:"16px"},placement:"top",delay:{show:250,hide:400},overlay:function(t){return(0,a.jsx)(D.Z,_(_({id:"button-tooltip"},t),{},{children:"Click to Empty the Sky, and Start Anew."}))},children:(0,a.jsx)(N.E.div,{animate:{y:-30},transition:{type:"spring",stiffness:10},id:"rocket-container",children:(0,a.jsx)(v.default,{className:"rocket",onClick:m,src:z,width:80,height:100,alt:"rocket"})})})]})},B=n(9669),M=n.n(B);function I(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var i=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Y=function(t){(0,l.Z)(n,t);var e=I(n);function n(){var t;(0,c.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),(0,p.Z)((0,u.Z)(t),"state",{modal:!0}),t}return(0,o.Z)(n,[{key:"render",value:function(){var t=this;return(0,a.jsxs)("div",{children:[(0,a.jsxs)(y.default,{children:[(0,a.jsx)("title",{children:"SpaceHash"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css",integrity:"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC",crossOrigin:"anonymous"})]}),(0,a.jsx)(O,{show:this.state.modal,onHide:function(){return t.setState({modal:!1})}}),(0,a.jsx)(j,{dbData:this.props.dbData}),(0,a.jsx)(W,{}),(0,a.jsx)("div",{className:"stars"}),(0,a.jsx)("div",{className:"twinkling"}),(0,a.jsx)("div",{className:"clouds"})]})}}],[{key:"getInitialProps",value:function(){var t=(0,s.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M().get("http://localhost:3001/getWishes");case 3:n=t.sent,e=n.data,console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error fetching initial props",t.t0);case 11:return t.abrupt("return",{dbData:e});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()}]),n}(h.Component)},78581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(46289)}])},41825:function(t){t.exports={CONTRACT_ABI:[{anonymous:!1,inputs:[],name:"DrainWishes",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"wish",type:"bytes32"}],name:"WishMade",type:"event"},{constant:!1,inputs:[{internalType:"bytes32",name:"_wish",type:"bytes32"}],name:"hashWish",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"drainWishes",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],CONTRACT_ADDRESS:"0x61CBC353EFF619990930aF457F1e4273c3f59A9E"}},88677:function(){},62808:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},6567:function(){},43503:function(){},55896:function(){},87500:function(){}},function(t){t.O(0,[774,270,888,179],(function(){return e=78581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);